<!DOCTYPE html>
<html lang="he" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="theme-color" content="#1a1a2e">
    <title>×¢×•×–×¨ ×™×•××™ ×œ×œ×™××•× ×™×“</title>
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Assistant:wght@400;700;800&family=Rubik:wght@400;700;900&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Assistant', 'Rubik', sans-serif;
            background: linear-gradient(135deg, #1a1a2e 0%, #16213e 100%);
            color: #ffffff;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            padding: 20px;
            overflow-x: hidden;
        }
        
        .container {
            max-width: 900px;
            margin: 0 auto;
            width: 100%;
        }
        
        .main-button {
            background: linear-gradient(135deg, #ff6b6b 0%, #ee5a6f 100%);
            border: none;
            border-radius: 30px;
            padding: 50px;
            margin: 30px 0;
            cursor: pointer;
            box-shadow: 0 20px 60px rgba(255, 107, 107, 0.4);
            transition: all 0.3s ease;
            width: 100%;
            position: relative;
            overflow: hidden;
        }
        
        .main-button:active {
            transform: scale(0.95);
            box-shadow: 0 10px 30px rgba(255, 107, 107, 0.3);
        }
        
        .main-button::before {
            content: '';
            position: absolute;
            top: 50%;
            left: 50%;
            width: 0;
            height: 0;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            transform: translate(-50%, -50%);
            transition: width 0.6s, height 0.6s;
        }
        
        .main-button:active::before {
            width: 300px;
            height: 300px;
        }
        
        .button-text {
            position: relative;
            z-index: 1;
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 15px;
        }
        
        .button-icon {
            font-size: 80px;
            animation: pulse 2s ease-in-out infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        .button-label-ru {
            font-size: 48px;
            font-weight: 900;
            letter-spacing: 2px;
            text-transform: uppercase;
            text-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
        }
        
        .button-label-he {
            font-size: 42px;
            font-weight: 800;
            text-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
        }
        
        .info-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border-radius: 25px;
            padding: 35px;
            margin: 25px 0;
            border: 2px solid rgba(255, 255, 255, 0.2);
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.3);
        }
        
        .date-section {
            text-align: center;
            margin-bottom: 40px;
        }
        
        .date-ru {
            font-size: 44px;
            font-weight: 700;
            margin-bottom: 15px;
            color: #4ecdc4;
            text-shadow: 0 0 20px rgba(78, 205, 196, 0.5);
        }
        
        .date-he {
            font-size: 40px;
            font-weight: 700;
            color: #95e1d3;
        }
        
        .section-title {
            font-size: 36px;
            font-weight: 800;
            margin-bottom: 25px;
            display: flex;
            align-items: center;
            gap: 15px;
            color: #ffd93d;
            text-shadow: 0 0 15px rgba(255, 217, 61, 0.5);
        }
        
        .section-icon {
            font-size: 48px;
        }
        
        .treatment-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 25px;
            margin: 15px 0;
            border-radius: 20px;
            border-right: 6px solid #4ecdc4;
            transition: all 0.3s ease;
        }
        
        .treatment-item:hover {
            background: rgba(255, 255, 255, 0.1);
            transform: translateX(-5px);
        }
        
        .treatment-time {
            font-size: 42px;
            font-weight: 900;
            color: #ff6b6b;
            margin-bottom: 10px;
            text-shadow: 0 0 15px rgba(255, 107, 107, 0.5);
        }
        
        .treatment-name {
            font-size: 36px;
            font-weight: 700;
            margin-bottom: 8px;
        }
        
        .treatment-location {
            font-size: 30px;
            color: #95e1d3;
            font-weight: 500;
        }
        
        .no-treatments {
            font-size: 38px;
            text-align: center;
            padding: 40px;
            color: #95e1d3;
            font-weight: 600;
        }
        
        .work-info {
            font-size: 40px;
            font-weight: 700;
            padding: 30px;
            background: linear-gradient(135deg, rgba(255, 107, 107, 0.2), rgba(238, 90, 111, 0.2));
            border-radius: 20px;
            text-align: center;
            margin: 20px 0;
        }
        
        .work-name {
            font-size: 52px;
            font-weight: 900;
            color: #ffd93d;
            text-shadow: 0 0 20px rgba(255, 217, 61, 0.5);
        }
        
        .basketball-section {
            margin-top: 30px;
        }
        
        .basketball-stats {
            display: grid;
            gap: 20px;
            margin-top: 25px;
        }
        
        .stat-item {
            background: rgba(255, 255, 255, 0.05);
            padding: 25px;
            border-radius: 20px;
            border-right: 6px solid #ffd93d;
        }
        
        .stat-label {
            font-size: 32px;
            color: #95e1d3;
            margin-bottom: 12px;
            font-weight: 600;
        }
        
        .stat-value {
            font-size: 38px;
            font-weight: 800;
            color: #ffffff;
        }
        
        .status-indicator {
            position: fixed;
            top: 20px;
            left: 50%;
            transform: translateX(-50%) translateY(-100px);
            background: linear-gradient(135deg, #4ecdc4 0%, #44a8a0 100%);
            color: white;
            padding: 25px 50px;
            border-radius: 50px;
            font-size: 36px;
            font-weight: 700;
            box-shadow: 0 10px 40px rgba(78, 205, 196, 0.4);
            z-index: 1000;
            transition: transform 0.3s ease;
        }
        
        .status-indicator.show {
            transform: translateX(-50%) translateY(0);
        }
        
        @media (max-width: 768px) {
            .button-label-ru { font-size: 36px; }
            .button-label-he { font-size: 32px; }
            .section-title { font-size: 28px; }
            .treatment-time { font-size: 32px; }
            .treatment-name { font-size: 28px; }
            .treatment-location { font-size: 24px; }
            .stat-label { font-size: 26px; }
            .stat-value { font-size: 30px; }
        }
    </style>
</head>
<body>
    <div class="status-indicator" id="statusIndicator">××“×‘×¨...</div>
    
    <div class="container">
        <button class="main-button" id="speakButton">
            <div class="button-text">
                <div class="button-icon">ğŸ”Š</div>
                <div class="button-label-ru">Ğ“ĞĞ’ĞĞ Ğ˜Ğ¢Ğ¬</div>
                <div class="button-label-he">×œ×“×‘×¨</div>
            </div>
        </button>
        
        <div class="info-card">
            <div class="date-section">
                <div class="date-ru" id="dateRu">×˜×•×¢×Ÿ...</div>
                <div class="date-he" id="dateHe">Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ°...</div>
            </div>
            
            <div class="section-title">
                <span class="section-icon">ğŸ’Š</span>
                <span>×”×˜×™×¤×•×œ×™× ×©×œ×š ×”×™×•× / Ğ¢Ğ²Ğ¾Ğ¸ Ğ¿Ñ€Ğ¾Ñ†ĞµĞ´ÑƒÑ€Ñ‹ ÑĞµĞ³Ğ¾Ğ´Ğ½Ñ</span>
            </div>
            <div id="treatmentsContainer">
                <div class="no-treatments">×˜×•×¢×Ÿ... / Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ°...</div>
            </div>
        </div>
        
        <div class="info-card">
            <div class="section-title">
                <span class="section-icon">ğŸ‘·</span>
                <span>××™ ×¢×•×‘×“ ××—×¨ / ĞšÑ‚Ğ¾ Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ Ğ·Ğ°Ğ²Ñ‚Ñ€Ğ°</span>
            </div>
            <div class="work-info" id="tomorrowWorker">
                ×˜×•×¢×Ÿ... / Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ°...
            </div>
        </div>
        
        <div class="info-card basketball-section">
            <div class="section-title">
                <span class="section-icon">ğŸ€</span>
                <span>×‘× ×™ ×”×¨×¦×œ×™×” / Ğ‘Ğ½ĞµĞ¹ Ğ“ĞµÑ€Ñ†Ğ»Ğ¸Ñ</span>
            </div>
            <div class="basketball-stats">
                <div class="stat-item">
                    <div class="stat-label">××™×§×•× ×‘×˜×‘×œ×” / ĞœĞµÑÑ‚Ğ¾ Ğ² Ñ‚Ğ°Ğ±Ğ»Ğ¸Ñ†Ğµ:</div>
                    <div class="stat-value" id="tablePosition">×˜×•×¢×Ÿ...</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">××©×—×§ ××—×¨×•×Ÿ / ĞŸĞ¾ÑĞ»ĞµĞ´Ğ½ÑÑ Ğ¸Ğ³Ñ€Ğ°:</div>
                    <div class="stat-value" id="lastResult">×˜×•×¢×Ÿ...</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">××©×—×§ ×”×‘× / Ğ¡Ğ»ĞµĞ´ÑƒÑÑ‰Ğ°Ñ Ğ¸Ğ³Ñ€Ğ°:</div>
                    <div class="stat-value" id="nextGame">×˜×•×¢×Ÿ...</div>
                </div>
            </div>
        </div>
    </div>
    
    <script>
        const weeklyTreatments = {
            0: [{ time: '12:30', name: '×œ×™× ×•×¨', nameRu: 'Ğ›Ğ¸Ğ½Ğ¾Ñ€', location: '×‘×™×ª ×œ×•×•×™× ×©×˜×™×™×Ÿ ×¨×¢× × ×”', locationRu: 'Ğ‘ĞµĞ¹Ñ‚ Ğ›ĞµĞ²Ğ¸Ğ½ÑˆÑ‚ĞµĞ¹Ğ½ Ğ Ğ°Ğ°Ğ½Ğ°Ğ½Ğ°' }],
            1: [
                { time: '10:45', name: '×¤×™×–×™×•×ª×¨×¤×™×” - ××•×˜×” ×“×™×˜×¨×™×š', nameRu: 'Ğ¤Ğ¸Ğ·Ğ¸Ğ¾Ñ‚ĞµÑ€Ğ°Ğ¿Ğ¸Ñ - ĞÑ‚Ğ° Ğ”Ğ¸Ñ‚Ñ€Ğ¸Ñ…', location: '×ª×œ ××‘×™×‘', locationRu: 'Ğ¢ĞµĞ»ÑŒ-ĞĞ²Ğ¸Ğ²' },
                { time: '12:00', name: '×”×ª×¢××œ×•×ª ××™×©×™×ª', nameRu: 'ĞŸĞµÑ€ÑĞ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ñ‚Ñ€ĞµĞ½Ğ¸Ñ€Ğ¾Ğ²ĞºĞ°', location: '×‘×™×ª ×”×œ×•×—× ×ª×œ ××‘×™×‘', locationRu: 'Ğ‘ĞµĞ¹Ñ‚ Ñ…Ğ°-Ğ›Ğ¾Ñ…ĞµĞ¼ Ğ¢ĞµĞ»ÑŒ-ĞĞ²Ğ¸Ğ²' }
            ],
            2: [{ time: '11:00', name: '×¤×™×–×™×•×ª×¨×¤×™×” - ××•×˜×” ×“×™×˜×¨×™×š', nameRu: 'Ğ¤Ğ¸Ğ·Ğ¸Ğ¾Ñ‚ĞµÑ€Ğ°Ğ¿Ğ¸Ñ - ĞÑ‚Ğ° Ğ”Ğ¸Ñ‚Ñ€Ğ¸Ñ…', location: '×ª×œ ××‘×™×‘', locationRu: 'Ğ¢ĞµĞ»ÑŒ-ĞĞ²Ğ¸Ğ²' }],
            3: [
                { time: '10:45', name: '×¤×™×–×™×•×ª×¨×¤×™×” - ××•×˜×” ×“×™×˜×¨×™×š', nameRu: 'Ğ¤Ğ¸Ğ·Ğ¸Ğ¾Ñ‚ĞµÑ€Ğ°Ğ¿Ğ¸Ñ - ĞÑ‚Ğ° Ğ”Ğ¸Ñ‚Ñ€Ğ¸Ñ…', location: '×ª×œ ××‘×™×‘', locationRu: 'Ğ¢ĞµĞ»ÑŒ-ĞĞ²Ğ¸Ğ²' },
                { time: '11:00', name: '××™××•×Ÿ ××™×©×™ - ×©××¢×•×Ÿ', nameRu: 'ĞŸĞµÑ€ÑĞ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ñ‚Ñ€ĞµĞ½Ğ¸Ñ€Ğ¾Ğ²ĞºĞ° - Ğ¨Ğ¸Ğ¼Ğ¾Ğ½', location: '×‘×™×ª ×”×œ×•×—× ×ª×œ ××‘×™×‘', locationRu: 'Ğ‘ĞµĞ¹Ñ‚ Ñ…Ğ°-Ğ›Ğ¾Ñ…ĞµĞ¼ Ğ¢ĞµĞ»ÑŒ-ĞĞ²Ğ¸Ğ²' }
            ],
            4: [{ time: '11:30', name: '×”×ª×¢××œ×•×ª ××™×©×™×ª - ×œ×™××•× ×™×“', nameRu: 'ĞŸĞµÑ€ÑĞ¾Ğ½Ğ°Ğ»ÑŒĞ½Ğ°Ñ Ñ‚Ñ€ĞµĞ½Ğ¸Ñ€Ğ¾Ğ²ĞºĞ° - Ğ›ĞµĞ¾Ğ½Ğ¸Ğ´', location: '×‘×™×ª ×”×œ×•×—× ×ª×œ ××‘×™×‘', locationRu: 'Ğ‘ĞµĞ¹Ñ‚ Ñ…Ğ°-Ğ›Ğ¾Ñ…ĞµĞ¼ Ğ¢ĞµĞ»ÑŒ-ĞĞ²Ğ¸Ğ²' }],
            5: [
                { time: '11:00', name: '×¤×™×–×™×•×ª×¨×¤×™×” - ××•×˜×” ×“×™×˜×¨×™×š', nameRu: 'Ğ¤Ğ¸Ğ·Ğ¸Ğ¾Ñ‚ĞµÑ€Ğ°Ğ¿Ğ¸Ñ - ĞÑ‚Ğ° Ğ”Ğ¸Ñ‚Ñ€Ğ¸Ñ…', location: '×ª×œ ××‘×™×‘', locationRu: 'Ğ¢ĞµĞ»ÑŒ-ĞĞ²Ğ¸Ğ²' },
                { time: '12:30', name: '××•×œ×’ ×¤×’×•×¡×˜', nameRu: 'ĞĞ»ĞµĞ³ ĞŸĞ°Ğ³Ğ¾ÑÑ‚', location: '×‘×™×ª ×”×œ×•×—× ×ª×œ ××‘×™×‘ ×§×•××” ××™× ×•×¡ ××—×ª', locationRu: 'Ğ‘ĞµĞ¹Ñ‚ Ñ…Ğ°-Ğ›Ğ¾Ñ…ĞµĞ¼ Ğ¢ĞµĞ»ÑŒ-ĞĞ²Ğ¸Ğ², Ğ¼Ğ¸Ğ½ÑƒÑ Ğ¿ĞµÑ€Ğ²Ñ‹Ğ¹ ÑÑ‚Ğ°Ğ¶' }
            ],
            6: []
        };
        
        const workSchedule = {
            '2026-02-01': '××˜×™', '2026-02-02': '× ×ª× ××œ', '2026-02-03': '×’×•××Ÿ', '2026-02-04': '××©×”',
            '2026-02-05': '×¡×˜×¡', '2026-02-06': '×’×•××Ÿ', '2026-02-07': '××©×”', '2026-02-08': '××˜×™',
            '2026-02-09': '×’×•××Ÿ', '2026-02-10': '××©×”', '2026-02-11': '× ×ª× ××œ', '2026-02-12': '×¡×˜×¡',
            '2026-02-13': '××©×”', '2026-02-14': '× ×ª× ××œ', '2026-02-15': '××˜×™', '2026-02-16': '×¡×˜×¡',
            '2026-02-17': '××©×”', '2026-02-18': '×’×•××Ÿ', '2026-02-19': '× ×ª× ××œ', '2026-02-20': '××©×”',
            '2026-02-21': '×’×•××Ÿ', '2026-02-22': '××˜×™', '2026-02-23': '× ×ª× ××œ', '2026-02-24': '××©×”',
            '2026-02-25': '×’×•××Ÿ', '2026-02-26': '×¡×˜×¡', '2026-02-27': '× ×ª× ××œ', '2026-02-28': '×’×•××Ÿ'
        };
        
        // ×ª×¨×’×•× ×©××•×ª ×¢×•×‘×“×™× ×œ×¨×•×¡×™×ª
        const workerNamesRu = {
            '××˜×™': 'ĞœĞ°Ñ‚Ğ¸',
            '× ×ª× ××œ': 'ĞĞ°Ñ‚Ğ°Ğ½Ğ¸ÑĞ»ÑŒ',
            '×’×•××Ÿ': 'Ğ“ÑƒĞ¼Ğ°Ğ½',
            '××©×”': 'ĞœĞ¾ÑˆĞµ',
            '×¡×˜×¡': 'Ğ¡Ñ‚Ğ°Ñ'
        };
        
        // ×”×’×™×™×” × ×›×•× ×” ×‘×¢×‘×¨×™×ª (×œ×× ×•×¢ ×”×’×™×™×” ×©×’×•×™×”)
        const workerPronounce = {
            '× ×ª× ××œ': '× ×ª× ××™×™×œ'
        };
        
        function getWorkerRu(name) {
            return workerNamesRu[name] || name;
        }
        
        function getWorkerSpeak(name) {
            return workerPronounce[name] || name;
        }
        
        const hebrewDays = ['×¨××©×•×Ÿ', '×©× ×™', '×©×œ×™×©×™', '×¨×‘×™×¢×™', '×—××™×©×™', '×©×™×©×™', '×©×‘×ª'];
        const russianDays = ['Ğ²Ğ¾ÑĞºÑ€ĞµÑĞµĞ½ÑŒĞµ', 'Ğ¿Ğ¾Ğ½ĞµĞ´ĞµĞ»ÑŒĞ½Ğ¸Ğº', 'Ğ²Ñ‚Ğ¾Ñ€Ğ½Ğ¸Ğº', 'ÑÑ€ĞµĞ´Ğ°', 'Ñ‡ĞµÑ‚Ğ²ĞµÑ€Ğ³', 'Ğ¿ÑÑ‚Ğ½Ğ¸Ñ†Ğ°', 'ÑÑƒĞ±Ğ±Ğ¾Ñ‚Ğ°'];
        const hebrewMonths = ['×™× ×•××¨', '×¤×‘×¨×•××¨', '××¨×¥', '××¤×¨×™×œ', '×××™', '×™×•× ×™', '×™×•×œ×™', '××•×’×•×¡×˜', '×¡×¤×˜××‘×¨', '××•×§×˜×•×‘×¨', '× ×•×‘××‘×¨', '×“×¦××‘×¨'];
        const russianMonths = ['ÑĞ½Ğ²Ğ°Ñ€Ñ', 'Ñ„ĞµĞ²Ñ€Ğ°Ğ»Ñ', 'Ğ¼Ğ°Ñ€Ñ‚Ğ°', 'Ğ°Ğ¿Ñ€ĞµĞ»Ñ', 'Ğ¼Ğ°Ñ', 'Ğ¸ÑĞ½Ñ', 'Ğ¸ÑĞ»Ñ', 'Ğ°Ğ²Ğ³ÑƒÑÑ‚Ğ°', 'ÑĞµĞ½Ñ‚ÑĞ±Ñ€Ñ', 'Ğ¾ĞºÑ‚ÑĞ±Ñ€Ñ', 'Ğ½Ğ¾ÑĞ±Ñ€Ñ', 'Ğ´ĞµĞºĞ°Ğ±Ñ€Ñ'];
        
        // ××©×ª× ×” ×’×œ×•×‘×œ×™ ×œ×©××™×¨×ª × ×ª×•× ×™ ×‘× ×™ ×”×¨×¦×œ×™×”
        let basketballData = {
            position: '×˜×•×¢×Ÿ...',
            positionRu: 'Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ°...',
            lastGame: '×˜×•×¢×Ÿ...',
            lastGameRu: 'Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ°...',
            nextGame: '×˜×•×¢×Ÿ...',
            nextGameRu: 'Ğ—Ğ°Ğ³Ñ€ÑƒĞ·ĞºĞ°...'
        };
        
        // × ×ª×•× ×™ ×‘× ×™ ×”×¨×¦×œ×™×” - fallback ××™×™×“×™ + × ×™×¡×™×•×Ÿ ××•×˜×•××˜×™
        async function loadBasketballData() {
            // ×§×•×“× ×˜×•×¢×Ÿ fallback ××™×™×“×™ - ×›×“×™ ×©×ª××™×“ ×™×”×™×” ××™×“×¢
            loadBasketballFallback();
            
            try {
                const response = await fetch('/.netlify/functions/get-basketball-OFF');
                if (!response.ok) throw new Error('Function returned ' + response.status);
                const data = await response.json();
                
                // ×¨×§ ××—×œ×™×£ ×× ×‘×××ª ×§×™×‘×œ× ×• ××™×“×¢ ×˜×•×‘
                if (data.position) {
                    basketballData.position = data.position;
                    basketballData.positionRu = data.positionRu || data.position.replace('××§×•×', 'ĞœĞµÑÑ‚Ğ¾');
                }
                if (data.lastGame && data.lastGame.result) {
                    basketballData.lastGame = data.lastGame.result;
                    basketballData.lastGameRu = data.lastGameRu || data.lastGame.result;
                }
                if (data.nextGame && data.nextGame.opponent) {
                    basketballData.nextGame = data.nextGame.opponent;
                    basketballData.nextGameRu = data.nextGameRu || data.nextGame.opponent;
                }
                
                console.log('ğŸ€ Basketball updated from Netlify Function');
            } catch (error) {
                console.log('â„¹ï¸ Using fallback basketball data:', error.message);
            }
            
            // ×¢×“×›×•×Ÿ ×”×ª×¦×•×’×”
            document.getElementById('tablePosition').textContent = basketballData.position;
            document.getElementById('lastResult').textContent = basketballData.lastGame;
            document.getElementById('nextGame').textContent = basketballData.nextGame;
        }
        
        // ===== FALLBACK - ×¢×“×›×Ÿ ×™×“× ×™×ª ×›×©×”×¤×•× ×§×¦×™×” ×œ× ×¢×•×‘×“×ª =====
        function loadBasketballFallback() {
            const today = new Date();
            const cupGameUntil = new Date('2026-02-17');
            
            let nextGameText, nextGameRu;
            if (today < cupGameUntil) {
                nextGameText = '× ×’×“ ×”×¤×•×¢×œ ×”×¢××§ | 16.02.26 | 19:00 | 5PLUS | ×—×¦×™ ×’××¨ ×’×‘×™×¢ ×”××“×™× ×”';
                nextGameRu = 'Ğ¿Ñ€Ğ¾Ñ‚Ğ¸Ğ² ĞĞ¿Ğ¾ÑĞ»ÑŒ Ğ­Ğ¼ĞµĞº | 16.02.26 | 19:00 | 5PLUS | ĞŸĞ¾Ğ»ÑƒÑ„Ğ¸Ğ½Ğ°Ğ» ĞšÑƒĞ±ĞºĞ°';
            } else {
                nextGameText = '× ×’×“ ×”×¤×•×¢×œ ×’×œ×™×œ ×¢×œ×™×•×Ÿ (22.02.26)';
                nextGameRu = 'Ğ¿Ñ€Ğ¾Ñ‚Ğ¸Ğ² ĞĞ¿Ğ¾ÑĞ»ÑŒ Ğ“Ğ°Ğ»Ğ¸Ğ»ÑŒ Ğ­Ğ»ÑŒĞ¾Ğ½ (22.02.26)';
            }
            
            basketballData = {
                position: '××§×•× 4',
                positionRu: 'ĞœĞµÑÑ‚Ğ¾ 4',
                lastGame: '× ×™×¦×—×•×Ÿ 87:76 (07.02.26) - × ×™×¦×—×•×Ÿ ×©×‘×™×¢×™ ×¨×¦×•×£!',
                lastGameRu: 'ĞŸĞ¾Ğ±ĞµĞ´Ğ° 87:76 (07.02.26) - Ğ¡ĞµĞ´ÑŒĞ¼Ğ°Ñ Ğ¿Ğ¾Ğ±ĞµĞ´Ğ° Ğ¿Ğ¾Ğ´Ñ€ÑĞ´!',
                nextGame: nextGameText,
                nextGameRu: nextGameRu
            };
        }
        
        function formatDate(date) {
            const dayOfWeek = date.getDay();
            const day = date.getDate();
            const month = date.getMonth();
            const year = date.getFullYear();
            
            return {
                ru: `Ğ¡ĞµĞ³Ğ¾Ğ´Ğ½Ñ ${russianDays[dayOfWeek]}, ${day} ${russianMonths[month]} ${year}`,
                he: `×”×™×•× ×™×•× ${hebrewDays[dayOfWeek]}, ${day} ×‘${hebrewMonths[month]} ${year}`,
                dayOfWeek: dayOfWeek
            };
        }
        
        function getDateKey(date) {
            const year = date.getFullYear();
            const month = String(date.getMonth() + 1).padStart(2, '0');
            const day = String(date.getDate()).padStart(2, '0');
            return `${year}-${month}-${day}`;
        }
        
        function getTomorrowWorker(today) {
            const tomorrow = new Date(today);
            tomorrow.setDate(tomorrow.getDate() + 1);
            const tomorrowKey = getDateKey(tomorrow);
            return workSchedule[tomorrowKey] || '××™×Ÿ ××™×“×¢';
        }
        
        function updateDisplay() {
            const today = new Date();
            const dateInfo = formatDate(today);
            
            document.getElementById('dateRu').textContent = dateInfo.ru;
            document.getElementById('dateHe').textContent = dateInfo.he;
            
            const todayTreatments = weeklyTreatments[dateInfo.dayOfWeek];
            const treatmentsContainer = document.getElementById('treatmentsContainer');
            
            if (todayTreatments && todayTreatments.length > 0) {
                treatmentsContainer.innerHTML = todayTreatments.map(treatment => `
                    <div class="treatment-item">
                        <div class="treatment-time">${treatment.time}</div>
                        <div class="treatment-name">${treatment.name}</div>
                        <div class="treatment-location">${treatment.location}</div>
                    </div>
                `).join('');
            } else {
                treatmentsContainer.innerHTML = '<div class="no-treatments">×× ×•×—×” ×”×™×•× ğŸ˜Š<br>ĞÑ‚Ğ´Ñ‹Ñ… ÑĞµĞ³Ğ¾Ğ´Ğ½Ñ</div>';
            }
            
            const tomorrowWorker = getTomorrowWorker(today);
            const tomorrowWorkerRu = getWorkerRu(tomorrowWorker);
            document.getElementById('tomorrowWorker').innerHTML = `
                <div style="color: #95e1d3; font-size: 36px; margin-bottom: 10px;">Ğ—Ğ°Ğ²Ñ‚Ñ€Ğ° Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚:</div>
                <div class="work-name">${tomorrowWorkerRu}</div>
                <div style="color: #95e1d3; font-size: 36px; margin-top: 15px;">××—×¨ ×¢×•×‘×“: ${tomorrowWorker}</div>
            `;
        }
        
        function speakText(text, lang) {
            return new Promise((resolve) => {
                const utterance = new SpeechSynthesisUtterance(text);
                utterance.lang = lang;
                utterance.rate = 0.85;
                utterance.pitch = 1.0;
                utterance.volume = 1.0;
                utterance.onend = resolve;
                utterance.onerror = resolve;
                speechSynthesis.speak(utterance);
            });
        }
        
        let isSpeaking = false;
        
        async function speakAll() {
            if (isSpeaking) {
                console.log('âš ï¸ Already speaking, skipping...');
                return;
            }
            isSpeaking = true;
            speechSynthesis.cancel();
            
            const today = new Date();
            const dateInfo = formatDate(today);
            const todayTreatments = weeklyTreatments[dateInfo.dayOfWeek];
            const tomorrowWorker = getTomorrowWorker(today);
            
            showStatus('××“×‘×¨... / Ğ“Ğ¾Ğ²Ğ¾Ñ€Ñ...');
            
            await speakText(dateInfo.ru, 'ru-RU');
            
            if (todayTreatments && todayTreatments.length > 0) {
                await speakText('Ğ¢Ğ²Ğ¾Ğ¸ Ğ¿Ñ€Ğ¾Ñ†ĞµĞ´ÑƒÑ€Ñ‹ ÑĞµĞ³Ğ¾Ğ´Ğ½Ñ:', 'ru-RU');
                for (const treatment of todayTreatments) {
                    await speakText(`${treatment.nameRu}, ${treatment.locationRu}, Ğ² ${treatment.time}`, 'ru-RU');
                }
            } else {
                await speakText('Ğ¡ĞµĞ³Ğ¾Ğ´Ğ½Ñ Ğ¾Ñ‚Ğ´Ñ‹Ñ…, Ğ¿Ñ€Ğ¾Ñ†ĞµĞ´ÑƒÑ€ Ğ½ĞµÑ‚', 'ru-RU');
            }
            
            await speakText(`Ğ—Ğ°Ğ²Ñ‚Ñ€Ğ° Ñ€Ğ°Ğ±Ğ¾Ñ‚Ğ°ĞµÑ‚ ${getWorkerRu(tomorrowWorker)}`, 'ru-RU');
            await speakText(`Ğ‘Ğ½ĞµĞ¹ Ğ“ĞµÑ€Ñ†Ğ»Ğ¸Ñ: ${basketballData.positionRu}`, 'ru-RU');
            await speakText(basketballData.lastGameRu, 'ru-RU');
            await speakText(`Ğ¡Ğ»ĞµĞ´ÑƒÑÑ‰Ğ°Ñ Ğ¸Ğ³Ñ€Ğ°: ${basketballData.nextGameRu}`, 'ru-RU');
            
            await speakText(dateInfo.he, 'he-IL');
            
            if (todayTreatments && todayTreatments.length > 0) {
                await speakText('×”×˜×™×¤×•×œ×™× ×©×œ×š ×”×™×•×:', 'he-IL');
                for (const treatment of todayTreatments) {
                    await speakText(`${treatment.name}, ${treatment.location}, ×‘×©×¢×” ${treatment.time}`, 'he-IL');
                }
            } else {
                await speakText('×”×™×•× ×× ×•×—×”, ××™×Ÿ ×˜×™×¤×•×œ×™×', 'he-IL');
            }
            
            await speakText(`××—×¨ ×¢×•×‘×“ ${getWorkerSpeak(tomorrowWorker)}`, 'he-IL');
            await speakText(`×‘× ×™ ×”×¨×¦×œ×™×”: ${basketballData.position}`, 'he-IL');
            await speakText(basketballData.lastGame, 'he-IL');
            await speakText(`××©×—×§ ×”×‘×: ${basketballData.nextGame}`, 'he-IL');
            
            showStatus('×¡×™×™××ª×™! / Ğ“Ğ¾Ñ‚Ğ¾Ğ²Ğ¾!');
            setTimeout(() => hideStatus(), 2000);
            isSpeaking = false;
        }
        
        function showStatus(message) {
            const indicator = document.getElementById('statusIndicator');
            indicator.textContent = message;
            indicator.classList.add('show');
        }
        
        function hideStatus() {
            document.getElementById('statusIndicator').classList.remove('show');
        }
        
        // ×˜×¢×™× ×” ×¨××©×•× ×™×ª
        console.log('ğŸš€ ××ª×—×™×œ ×œ×˜×¢×•×Ÿ ××ª ×”××¤×œ×™×§×¦×™×”...');
        loadBasketballData();
        updateDisplay();
        
        // ×”×¤×¢×œ×” ××•×˜×•××˜×™×ª ×©×œ ×”×§×¨××™×™×”
        window.addEventListener('load', () => {
            console.log('ğŸ“¢ ××ª×›×•× ×Ÿ ×œ×“×‘×¨...');
            setTimeout(() => speakAll(), 1000);
        });
        
        // ×›×¤×ª×•×¨ ×™×“× ×™ ×œ×”×¤×¢×œ×ª ×”×§×¨××™×™×”
        document.getElementById('speakButton').addEventListener('click', () => {
            console.log('ğŸ”Š ×œ×—×™×¦×” ×¢×œ ×›×¤×ª×•×¨ ×”×§×¨××™×™×”');
            isSpeaking = false;
            speechSynthesis.cancel();
            speakAll();
        });
        
        // ×¢×“×›×•×Ÿ ××•×˜×•××˜×™ ×›×œ ×“×§×”
        setInterval(updateDisplay, 60000);
        
        // ×¢×“×›×•×Ÿ × ×ª×•× ×™ ×›×“×•×¨×¡×œ ×›×œ 30 ×“×§×•×ª
        setInterval(loadBasketballData, 30 * 60 * 1000);
    </script>
</body>
</html>
